–û—Ç—á—ë—Ç –ø–æ –æ—Ç–ª–∞–¥–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Selectel Vacancies API

–í—ã–ø–æ–ª–Ω–∏–ª–∞ [–ú—É—Ö–∞—á–µ–≤–∞ –ê–Ω–Ω–∞ –ê–ª–µ–∫—Å–µ–µ–≤–Ω–∞] 
–î–∞—Ç–∞: 19.02.2026
---

 –í–≤–µ–¥–µ–Ω–∏–µ

–í —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –æ—Ç–ª–∞–¥–∫—É FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–∞–∫–∞–Ω—Å–∏–π —Å —Å–∞–π—Ç–∞ Selectel. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—ã–ª–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–æ 8 –±–∞–≥–æ–≤ —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –í—Å–µ –±–∞–≥–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã.

---

 –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∞:
- –ò–∑—É—á–∏–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (docker-compose.yml, Dockerfile, requirements.txt)
- –ò–∑—É—á–∏–ª–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–†–µ–∑—É–ª—å—Ç–∞—Ç:
–ü–æ–Ω—è–ª–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∞ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

### –ë–∞–≥ ‚Ññ1: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è FastAPI –≤ requirements.txt

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–í —Ñ–∞–π–ª–µ `requirements.txt` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –≤–µ—Ä—Å–∏–µ–π FastAPI, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `requirements.txt:10`

–ö–æ–¥ –¥–æ:
```
fastapi==999.0.0; python_version < "3.8"
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```
(—Å—Ç—Ä–æ–∫–∞ —É–¥–∞–ª–µ–Ω–∞)
```

–ü—Ä–∏—á–∏–Ω–∞:
–í–µ—Ä—Å–∏—è 999.0.0 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ —É—Å–ª–æ–≤–∏–µ `python_version < "3.8"` –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º Python 3.11 –≤ Dockerfile. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker-–æ–±—Ä–∞–∑–∞.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

### –ë–∞–≥ ‚Ññ2: –û–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è DATABASE_URL

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π alias –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è - `DATABSE_URL` –≤–º–µ—Å—Ç–æ `DATABASE_URL` (–ø—Ä–æ–ø—É—â–µ–Ω–∞ –±—É–∫–≤–∞ "A").

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/core/config.py:13`

–ö–æ–¥ –¥–æ:
```python
database_url: str = Field(
    "postgresql+asyncpg://postgres:postgres@db:5432/postgres_typo",
    validation_alias="DATABSE_URL",
)
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
database_url: str = Field(
    "postgresql+asyncpg://postgres:postgres@db:5432/postgres",
    validation_alias="DATABASE_URL",
)
```

–ü—Ä–∏—á–∏–Ω–∞:
–û–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `.env` —Ñ–∞–π–ª–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –ë–î)

---

### –ë–∞–≥ ‚Ññ3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–í –∑–Ω–∞—á–µ–Ω–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `database_url` —É–∫–∞–∑–∞–Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `postgres_typo` –≤–º–µ—Å—Ç–æ `postgres`.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/core/config.py:12`

–ö–æ–¥ –¥–æ:
```python
"postgresql+asyncpg://postgres:postgres@db:5432/postgres_typo"
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
"postgresql+asyncpg://postgres:postgres@db:5432/postgres"
```

–ü—Ä–∏—á–∏–Ω–∞:
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∏–º–µ–Ω–µ–º `postgres_typo` –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ docker-compose.yml, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –ë–î)

---

### –ë–∞–≥ ‚Ññ4: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–í –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ APScheduler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `seconds` –≤–º–µ—Å—Ç–æ `minutes`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–∞–ø—É—Å–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5 –º–∏–Ω—É—Ç.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/services/scheduler.py:11`

–ö–æ–¥ –¥–æ:
```python
scheduler.add_job(
    job,
    trigger="interval",
    seconds=settings.parse_schedule_minutes,
    coalesce=True,
    max_instances=1,
)
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
scheduler.add_job(
    job,
    trigger="interval",
    minutes=settings.parse_schedule_minutes,
    coalesce=True,
    max_instances=1,
)
```

–ü—Ä–∏—á–∏–Ω–∞:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `seconds` –≤–º–µ—Å—Ç–æ `minutes` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ–º—É –∑–∞–ø—É—Å–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API Selectel.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

---

### –ë–∞–≥ ‚Ññ5: HTTP –∫–ª–∏–µ–Ω—Ç –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
HTTP –∫–ª–∏–µ–Ω—Ç `httpx.AsyncClient` —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É—Ç–µ—á–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/services/parser.py:28-29`

–ö–æ–¥ –¥–æ:
```python
timeout = httpx.Timeout(10.0, read=20.0)
try:
    client = httpx.AsyncClient(timeout=timeout)
    page = 1
    while True:
        # ...
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
timeout = httpx.Timeout(10.0, read=20.0)
try:
    async with httpx.AsyncClient(timeout=timeout) as client:
        page = 1
        while True:
            # ...
```

–ü—Ä–∏—á–∏–Ω–∞:
–ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (`async with`) —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—é –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è (—É—Ç–µ—á–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤)

---

### –ë–∞–≥ ‚Ññ6: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ None –¥–ª—è city

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –≤–∞–∫–∞–Ω—Å–∏–π –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –ø–æ–ª–µ `city` –º–æ–∂–µ—Ç –±—ã—Ç—å `None` (–¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ `AttributeError: 'NoneType' object has no attribute 'name'`.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/services/parser.py:38`

–ö–æ–¥ –¥–æ:
```python
"city_name": item.city.name.strip(),
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
"city_name": item.city.name.strip() if item.city else None,
```

–ü—Ä–∏—á–∏–Ω–∞:
–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ `ExternalVacancyItem`, –ø–æ–ª–µ `city` –∏–º–µ–µ—Ç —Ç–∏–ø `Optional[ExternalCity]`, –Ω–æ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è `None`.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏—è—Ö)

---

### –ë–∞–≥ ‚Ññ7: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ create_vacancy_endpoint

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `external_id` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `JSONResponse` –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ `VacancyRead`, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç API –∏ response_model.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/api/v1/vacancies.py:54-58`

–ö–æ–¥ –¥–æ:
```python
if existing:
    return JSONResponse(
        status_code=status.HTTP_200_OK,
        content={"detail": "Vacancy with external_id already exists"},
    )
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
if existing:
    raise HTTPException(
        status_code=status.HTTP_409_CONFLICT,
        detail="Vacancy with external_id already exists",
    )
```

–ü—Ä–∏—á–∏–Ω–∞:
–í–æ–∑–≤—Ä–∞—Ç `JSONResponse` –Ω–∞—Ä—É—à–∞–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ response_model. –ü—Ä–∞–≤–∏–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPException —Å –∫–æ–¥–æ–º 409 Conflict –¥–ª—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è (–Ω–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ API)

---

### –ë–∞–≥ ‚Ññ8: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ dict –≤–º–µ—Å—Ç–æ set

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
–í —Ñ—É–Ω–∫—Ü–∏–∏ `upsert_external_vacancies` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ external_ids —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å `{}` –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ `set()`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ `if ext_id and ext_id in existing_ids`.

–§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞: `app/crud/vacancy.py:75`

–ö–æ–¥ –¥–æ:
```python
else:
    existing_ids = {}
```

–ö–æ–¥ –ø–æ—Å–ª–µ:
```python
else:
    existing_ids = set()
```

–ü—Ä–∏—á–∏–Ω–∞:
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `existing_ids` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (set) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–∂–¥–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `in`, –Ω–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–µ—Ä–Ω–æ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ.

–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è (–∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–µ—Ä–µ–Ω)

---

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   ```bash
   docker-compose down -v
   docker-compose up --build
   ```

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Swagger UI:
   –û—Ç–∫—Ä—ã—Ç—å `http://localhost:8000/docs` –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã.

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:
   - –î–æ–∂–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω, –Ω–æ–≤—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π: X"
   - –í—ã–∑–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ `POST /api/v1/parse/`

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π:
   - `GET /api/v1/vacancies/` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
   - `GET /api/v1/vacancies/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏
   - `POST /api/v1/vacancies/` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏
   - `PUT /api/v1/vacancies/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
   - `DELETE /api/v1/vacancies/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏

5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:
   - –ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 5+ –º–∏–Ω—É—Ç
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç, –∞ –Ω–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

---

## –ò—Ç–æ–≥

‚úÖ –í—Å–µ 8 –±–∞–≥–æ–≤ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. –£–¥–∞–ª–µ–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è FastAPI –∏–∑ requirements.txt
2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DATABASE_URL
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ (seconds ‚Üí minutes)
5. –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è HTTP –∫–ª–∏–µ–Ω—Ç–∞
6. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ None –¥–ª—è –ø–æ–ª—è city
7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–µ external_id
8. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–ª—è existing_ids (dict ‚Üí set)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–∞—Ä—Å–∏–Ω–≥ –≤–∞–∫–∞–Ω—Å–∏–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏—Å–ø—Ä–∞–≤–Ω–æ
- –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
